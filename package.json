{
    "name": "atlas",
    "version": "1.0.0",
    "repository": "https://github.com/Polygon-Fast-Lane/atlas",
    "author": "FastLane",
    "scripts": {
      "expenv": "export $(grep -v '^#' .env | xargs)",
      "source": "source .env",
      "allexport": "set -o allexport; source .env; set +o allexport",
      "reinstall": "rm -rf node_modules && rm -f yarn.lock && yarn clean && yarn",
      "coverage": "forge coverage --report lcov && genhtml lcov.info -o report --branch-coverage && open report/index.html",
      "gas": "forge test -vv --gas-report",
      "ftest": "source .env && forge test --gas-price=1500000000",
      "ftest-fork": "source .env && forge test -vvv --fork-url ${ALCHEMY_APIKEY_MUMBAI} --fork-block-number 26702726 --gas-report",
      "anvil": "anvil",
      "anvil-mainnet-fork": "source .env && anvil --fork-url ${MAINNET_RPC_URL} --fork-block-number ${MAINNET_FORK_BLOCK_NUMBER} --code-size-limit ${CODE_SIZE_LIMIT} --gas-limit ${GAS_LIMIT}",
      
      "deploy-atlas": "source .env && forge script script/deploy-atlas.s.sol:DeployAtlasScript --fork-url http://localhost:8545 --broadcast --non-interactive",
      "deploy-atlas-swap-intent": "source .env && forge script script/deploy-atlas.s.sol:DeployAtlasAndSwapIntentDAppControlScript --fork-url http://localhost:8545 --broadcast --non-interactive",
      "deploy-atlas-swap-intent-tx-builder": "source .env && forge script script/deploy-atlas.s.sol:DeployAtlasAndSwapIntentDAppControlAndTxBuilderScript --fork-url http://localhost:8545 --broadcast --non-interactive",
      "deploy-solver": "source .env && forge script script/deploy-solver.s.sol:DeploySimpleRFQSolverScript --fork-url http://localhost:8545 --broadcast --non-interactive",
      
      "deploy-full-demo": "npm run deploy-atlas-swap-intent-tx-builder && npm run deploy-solver",

      "atlas-addr": "echo 'ATLAS:' && jq -r '.ATLAS' deployments.json",
      "swap-intent-addr": "echo 'SWAP INTENT DAPP CONTROL:' && jq -r '.SWAP_INTENT_DAPP_CONTROL' deployments.json",
      "tx-builder-addr": "echo 'TX BUILDER:' && jq -r '.TX_BUILDER' deployments.json",
      "solver-addr": "echo 'SOLVER:' && jq -r '.SIMPLE_RFQ_SOLVER' deployments.json",
      "addresses": "npm run atlas-addr --silent && npm run swap-intent-addr --silent && npm run tx-builder-addr --silent && npm run solver-addr --silent",

      "give-dai-to": "source .env && cast rpc anvil_impersonateAccount ${DAI_WHALE} && cast send ${DAI} --unlocked --from ${DAI_WHALE} 'transfer(address,uint256)(bool)' ${to} ${amount}",
      "give-dai-to-solver": "npm run give-dai-to -- --to ${SIMPLE_RFQ_SOLVER} --amount ${DAI_FOR_SOLVER}",

      "give-solver-tokens": "source .env && cast rpc anvil_impersonateAccount ${DAI_WHALE} && cast send ${DAI} --unlocked --from ${DAI_WHALE} 'transfer(address,uint256)(bool)' 0x9ae40d21177F53928da4dFF6389dEA33DF2E4558 ${DAI_FOR_SOLVER}",
      "give-tokens": "source .env && cast rpc anvil_impersonateAccount ${WETH_WHALE} && cast send ${WETH} --unlocked --from ${WETH_WHALE} 'transfer(address,uint256)(bool)' 0x9ae40d21177F53928da4dFF6389dEA33DF2E4558 1000000000000000000",

      "log-balances": "source .env && forge script script/log-balances.s.sol:LogDemoBalancesScript --fork-url http://localhost:8545 --broadcast --non-interactive",


      "mappings": "forge remappings > remappings.txt",
      "slither": "slither . --compile-force-framework foundry --filter-paths 'test|lib'",
      "snapshot": "source .env && forge snapshot -vvv --gas-report",
      "sizes": "forge build --sizes",
      "solc": "solc-select install 0.8.18 && solc-select use 0.8.18"
    }
  }
  